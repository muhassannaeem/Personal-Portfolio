# Admin Dashboard Setup Guide

## Overview

The Admin Dashboard is a secure, minimal management interface for your portfolio's projects. It allows you to add, edit, and delete projects without touching the code. All changes are saved to `data/projects.json` and reflected on your live site immediately.

## Quick Start

### 1. Access the Dashboard

Visit: `http://localhost:3000/admin?key=abc123`

(Replace `abc123` with your secret key)

### 2. Configure Your Admin Key

The default admin key is `abc123`. To change it to something more secure:

**Option A: Environment Variable (Recommended)**
1. Copy `.env.local.example` to `.env.local`
2. Update the `ADMIN_KEY` value:
   ```
   ADMIN_KEY=your-secret-key-here
   ```
3. Restart your dev server

**Option B: Change Default in Code**
Edit the API routes to use a different default key:
- `app/api/admin/projects/route.ts` - Line ~9
- `app/api/admin/projects/[id]/route.ts` - Line ~9
- `components/admin/auth-guard.tsx` - Line ~9

### 3. Security Best Practices

- ✅ Use a strong, random secret key (e.g., generated by `openssl rand -base64 32`)
- ✅ Keep the key private (don't commit `.env.local` to version control)
- ✅ In production, environment variables should be set securely in your hosting platform
- ⚠️ This is NOT password-protected authentication, just URL-based access control
- ⚠️ For maximum security, use HTTPS and consider adding actual authentication later

## Features

### Project Management

#### Add a Project
1. Click **"+ Add New Project"** button
2. Fill in the form:
   - **Title** (required): Project name
   - **Description** (required): Brief description
   - **Project Type**: Choose from Website, UI/UX, Mobile App, or Other
   - **Tech Stack**: Technologies used (e.g., React, Next.js, TailwindCSS)
   - **Image URL**: Preview image for the project card
   - **GitHub URL** (optional): Link to GitHub repository
   - **Deployed URL** (optional): Live demo link
3. Click **"Add Project"** to save

#### Edit a Project
1. Hover over a project card and click the **Edit** (pencil icon) button
2. Update the details
3. Click **"Update Project"** to save

#### Delete a Project
1. Hover over a project card and click the **Delete** (trash icon) button
2. Confirm the deletion in the dialog
3. Project is immediately removed from your portfolio

### Live Preview

The dashboard shows exactly how your project cards will appear on the public portfolio site. Changes are reflected instantly.

## Data Structure

Projects are stored in `data/projects.json`:

```json
[
  {
    "id": "project-1234567890",
    "title": "My Awesome Website",
    "description": "A modern portfolio website built with Next.js",
    "image": "https://example.com/image.jpg",
    "githubUrl": "https://github.com/username/project",
    "deployedUrl": "https://myproject.com",
    "type": "Website",
    "techStack": "React, Next.js, TailwindCSS"
  }
]
```

## API Endpoints

All endpoints require the `key` query parameter.

### GET /api/admin/projects?key=YOUR_KEY
Fetch all projects

**Response:**
```json
[{ project objects }]
```

### POST /api/admin/projects?key=YOUR_KEY
Create a new project

**Body:**
```json
{
  "title": "string (required)",
  "description": "string (required)",
  "image": "string (optional)",
  "githubUrl": "string (optional, must be valid URL)",
  "deployedUrl": "string (optional, must be valid URL)",
  "type": "string (optional)",
  "techStack": "string (optional)"
}
```

**Response:**
```json
{ created project object }
```

### PUT /api/admin/projects/[id]?key=YOUR_KEY
Update an existing project

**Body:** Same as POST

**Response:** Updated project object

### DELETE /api/admin/projects/[id]?key=YOUR_KEY
Delete a project

**Response:**
```json
{ "success": true }
```

## Validation

- **Title & Description**: Required fields
- **URLs**: GitHub and Deployed URLs must be valid (start with http:// or https://)
- **Image Preview**: Loads thumbnails in real-time as you type

## Error Handling

The dashboard provides clear feedback for:
- ✅ Successful operations (success toast)
- ❌ Validation errors (highlighted fields with error messages)
- ❌ Network errors (error alerts)
- ❌ Unauthorized access (redirects to portfolio home)

## File Structure

```
admin/
├── components/
│   └── admin/
│       ├── auth-guard.tsx              # Authentication check
│       ├── delete-confirm-dialog.tsx   # Delete confirmation
│       ├── project-form.tsx            # Add/Edit form
│       ├── project-list.tsx            # Project cards grid
│       └── project-preview.tsx         # Project card preview
├── hooks/
│   └── use-fetch-projects.ts           # Hook for fetching projects
├── api/
│   └── admin/
│       ├── projects/
│       │   ├── route.ts                # GET/POST endpoints
│       │   └── [id]/
│       │       └── route.ts            # PUT/DELETE endpoints
└── admin/
    └── page.tsx                        # Main dashboard page
```

## Future Extensions

The dashboard is built to be extensible. You can easily add more sections:

```typescript
// Example: Adding an "About" section
// 1. Create components/admin/about-form.tsx
// 2. Create API endpoints app/api/admin/about/route.ts
// 3. Add state management and UI in app/admin/page.tsx
```

## Troubleshooting

### "Access Denied" Error
Check that you're using the correct admin key in the URL.

### Changes Not Appearing
1. Verify the project was saved (check the success message)
2. Clear your browser cache
3. Check that `data/projects.json` exists and is readable

### Image Not Loading in Preview
- Ensure the URL is publicly accessible
- Check that the URL starts with http:// or https://
- Verify the image URL is correct

### 404 Error on Admin Page
Make sure you're accessing `/admin` with the `key` parameter: `/admin?key=YOUR_KEY`

## Security Considerations

This is a simple, minimalist approach suitable for personal portfolios. For production use:

1. **Consider adding:**
   - Password authentication
   - Session management
   - CSRF protection
   - Rate limiting
   - Audit logs

2. **Use environment variables** for the admin key (never hardcode)

3. **Enable HTTPS** in production

4. **Regular backups** of your `data/projects.json` file
